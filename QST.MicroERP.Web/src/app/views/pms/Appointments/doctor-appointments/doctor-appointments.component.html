<div fxLayout="column">
    <mat-toolbar style="background-image:linear-gradient(to bottom, rgb(2, 33, 58), rgb(7, 95, 122));">
        <div fxFlex fxLayout="row" fxLayoutAlign="space-between center">
            <span class="title dialog-title"
                style="color:white;margin: 10px 10px;font-size: 18px;margin-left: 20px;">{{docName}} Appointments</span>
            <button mat-icon-button (click)="isdialogRef.close()" style="color: white">
                <mat-icon>close</mat-icon>
            </button>
        </div>
    </mat-toolbar>
    <div fxLayout="row" style="margin: 10px;">
        <div fxFlex="50%">
            <button mat-fab extended style="background-color:#4e4c4c ;color: white;margin: 5px;"
                (click)="isdialogRef.close()">
                <mat-icon>arrow_back</mat-icon>
                Back
            </button>
            <button mat-fab extended style="background-color:#186792 ;color: white;margin: 4px;"
            (click)="OpenDialog()"> Add
            <mat-icon>check_circle</mat-icon> Appointment
        </button>
        </div>
    </div>
    <c-card style="padding: 10px;">
        <c-card-body style="padding: 10px;margin: 5px;border-radius: 10px;">
            <div fxLayout="column">
                <div fxLayout="row" fxLayoutAlign="space-between" fxFlex="100%">
                    <p fxFlex="50%"><strong>Date:</strong> {{apptDate|date:'yyyy-MM-dd'}}</p>
                    <p fxFlex="50%" style="text-align:end;"><strong>Doctor Name:</strong> {{docName}}</p>
                    <!-- <mat-form-field style="text-align:end;" appearance="outline" fxFlex="40%" class="form-group">
                        <mat-label>Date </mat-label>
                        <input [matDatepicker]="picker" matInput class="form-control" name="date" #date="ngModel"
                            readonly [(ngModel)]="apptDate" required />
                        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker (closed)="Appointments()" #picker></mat-datepicker>
                    </mat-form-field> -->
                </div>
                <hr>
                <div class="example-table-container" *ngIf="appointments.length>0">
                    <c-card style="padding: 10px; margin-top: 10px;" class="mat-elevation-z8">
                        <c-card-body
                            style="padding: 10px;background-image: linear-gradient(to bottom, rgb(2, 33, 58), rgb(7, 95, 122));margin: 5px;border-radius: 10px;">
                            <div class="example-table-container">
                                <section class="example-container mat-elevation-z8" tabindex="0"
                                    style="border-radius: 5px;">
                                    <table mat-table [dataSource]="DataSource" class="mat-elevation-z8">
                                        <ng-container matColumnDef="id">
                                            <th mat-header-cell *matHeaderCellDef> TokenNo </th>
                                            <td mat-cell *matCellDef="let element"> {{element.tokenNo}} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="patientname">
                                            <th mat-header-cell *matHeaderCellDef> PatientName </th>
                                            <td mat-cell *matCellDef="let element"> {{element.patientName}} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="doctor">
                                            <th mat-header-cell *matHeaderCellDef> Doctor </th>
                                            <td mat-cell *matCellDef="let element"> {{element.doctor}} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="date">
                                            <th mat-header-cell *matHeaderCellDef> Date </th>
                                            <td mat-cell *matCellDef="let element"> {{element.date| date:"dd/MM/yyyy"}}
                                            </td>
                                        </ng-container>
                                        <ng-container matColumnDef="time">
                                            <th mat-header-cell *matHeaderCellDef> Time </th>
                                            <td mat-cell *matCellDef="let element"> {{element.time}} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="age">
                                            <th mat-header-cell *matHeaderCellDef> Age </th>
                                            <td mat-cell [matTooltip]="element['age']" matTooltipPosition="above"
                                                *matCellDef="let element">
                                                {{ element.shortAge }} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="gender">
                                            <th mat-header-cell *matHeaderCellDef> Gender </th>
                                            <td mat-cell *matCellDef="let element"> {{element.gender}} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="status">
                                            <th mat-header-cell *matHeaderCellDef> Status </th>
                                            <td mat-cell *matCellDef="let element"> {{element.status}} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="isActive">
                                            <th mat-header-cell *matHeaderCellDef> IsActive </th>
                                            <td mat-cell *matCellDef="let element"> {{element.isActive?"Yes":"No"}}
                                            </td>
                                        </ng-container>
                                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                        <tr mat-row style="cursor: pointer;"
                                            [ngClass]="{'highlight': selectedRowIndex == row.id }"
                                            *matRowDef="let row; columns: displayedColumns;" (click)="openAppt(row)">
                                        </tr>
                                    </table>
                                </section>
                            </div>
                        </c-card-body>
                    </c-card>
                </div>
                <div *ngIf="appointments.length==0">
                    <hr>
                    <p
                        style="margin-top: 20px; text-align: center;align-items: center;justify-content: center;font-size: 25px;font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;font-weight: bold;">
                        No Appointment In Today's Date
                    </p>
                </div>
            </div>
        </c-card-body>
    </c-card>
</div>